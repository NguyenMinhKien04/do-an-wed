<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel=" stylesheet" href="dangnhap.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="./vendor/fontawesome/js/all.min.js" ></script>
    <title>Login</title>
</head>
<body>
    <div class="wrapper">
        <form id="formDangNhap">
            <h1>Đăng Nhập</h1>
            <div class="input-box">
                <input type="email" id="emailDangNhap" placeholder="Email" required>
                <i class='bx bxs-user'></i>
            </div>

            <div class="input-box">
                <input type="password" id="passwordDangNhap" placeholder="Mật khẩu" required>
                <i class='bx bxs-lock-alt'></i>
            </div> 
            
            <div class="forgot">
                <label><input type="checkbox" id="remember"> Lưu đăng nhập</label>
                <a href="#">Quên mật khẩu</a>
            </div>

            <button type="button" class="log" onclick="dangNhap()">Đăng nhập</button>
            
            <div class="register">
                <p>Không có tài khoản? <a href="dangki.html">Đăng ký</a></p>
            </div>
        </form>

        <script>
            function dangNhap() {
                var emailDangNhap = document.getElementById('emailDangNhap').value;
                var passwordDangNhap = document.getElementById('passwordDangNhap').value;

                var registeredAccountString = localStorage.getItem('registeredAccount');

                 // Kiểm tra xem cả tài khoản và mật khẩu đã được nhập chưa
                 if (!emailDangNhap || !passwordDangNhap) {
                    alert("Vui lòng nhập đầy đủ thông tin tài khoản và mật khẩu.");
                    return;
                 }

                if (!registeredAccountString) {
                    alert("Chưa có tài khoản đăng ký.");
                    return;
                }

                var registeredAccount = JSON.parse(registeredAccountString);

                if (emailDangNhap === registeredAccount.email && passwordDangNhap === registeredAccount.password) {
                    console.log("Đăng nhập thành công!");
                    window.location.href = "web1.html";
                } else {
                    alert("Đăng nhập không thành công. Vui lòng kiểm tra lại thông tin đăng nhập.");
                }
            }
        </script>
    </div>
</body>
</html>